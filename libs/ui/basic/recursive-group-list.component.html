<!-- <ul>
  <li *ngFor="let group of groups">
    <div (click)="toggleGroup(group)">
      {{ group.name }} ({{ group.isExpanded() ? 'Expanded' : 'Collapsed' }})
    </div>

    <div *ngIf="group.isExpanded()">
      <clx-recursive-group-list [groups]="group.groups || []"></clx-recursive-group-list>
    </div>
  </li>
</ul> -->

<div *ngFor="let group of groups; let i = index" class="m-1">
  <div
    (click)="group.toggleGroup()"
    [ngClass]="{'expanded': group.isExpanded(), 'collapsed': !group.isExpanded()}"
    class="group-node  p-2.5 border-2 border-[#1E3A8A] rounded-md cursor-pointer flex items-center justify-start transition-colors duration-300 hover:bg-[#87CEFA]">

    <!-- Toggle icon -->
    <span *ngIf="group.isGroup()">
      <span *ngIf="group.isExpanded()"><i class="fa fa-chevron-up"></i></span>
      <span *ngIf="!group.isExpanded()"><i class="fa fa-chevron-down"></i></span>
    </span>

    <!-- Group name -->
    <span class="group-name ml-2.5 font-bold">{{ group.name }}</span>
  </div>

  <!-- Conditionally render subgroups if the group is expanded -->
  <div *ngIf="group.isExpanded()">
    <div class="group-subgroups ml-5 p-1.25">
      <clx-recursive-group-list [groups]="group.groups"></clx-recursive-group-list>
    </div>
  </div>
</div>
