<div *ngFor="let group of groups; let i = index" class="group-item">
  <div
    (click)="group.toggleGroup()"
    [ngClass]="{'expanded': group.isExpanded(), 'collapsed': !group.isExpanded()}"
    class="group-node">

    <!-- Toggle icon -->
    <!-- <span *ngIf="group.isGroup()">
      <span *ngIf="group.isExpanded()">[-]</span>
      <span *ngIf="!group.isExpanded()">[+]</span>
    </span> -->

    <span *ngIf="group.isGroup()">
      <span *ngIf="group.isExpanded()"><i class="fa fa-chevron-down"></i></span>
      <span *ngIf="!group.isExpanded()"><i class="fa fa-chevron-up"></i></span>
    </span>

    <!-- Toggle icon -->
    <!-- <span *ngIf="group.isGroup()">
      <span *ngIf="group.isExpanded()">[-])</span>
      <span *ngIf="!group.isExpanded()">[+]</span>
    </span> -->

    <!-- Group name -->
    <span class="group-name">{{ group.name }}</span>
  </div>

  <!-- Conditionally render subgroups if the group is expanded -->
  <div *ngIf="group.isExpanded()">
    <div class="group-subgroups">
      <clx-recursive-group-list [groups]="group.groups ?? []"></clx-recursive-group-list>
    </div>
  </div>
</div>
